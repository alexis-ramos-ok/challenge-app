<form [formGroup]="myForm" (ngSubmit)="onSubmit()" class="container elegant-form">

  <div class="mb-3">
    <label for="name" class="form-label">Nombre completo:</label>
    <input type="text" id="name" formControlName="name" mask="A***********************" class="form-control" required>
    <div *ngIf="showNameError && myForm.controls['name'].errors?.['required'] && (myForm.controls['name'].dirty || myForm.controls['name'].touched)" class="text-danger">
      Nombre es requerido
    </div>
    <div *ngIf="showNameError && myForm.controls['name'].errors?.['onlyLetters'] && (myForm.controls['name'].dirty || myForm.controls['name'].touched)" class="text-danger">
      El nombre debe tener un formato válido
    </div>
  </div>
  
  
  <div class="mb-3">
    <label for="email" class="form-label">Email:</label>
    <input type="email" id="email" formControlName="email" class="form-control" required>
    <div *ngIf="showEmailError && myForm.controls['email'].errors?.['required'] && (myForm.controls['email'].dirty || myForm.controls['email'].touched)" class="text-danger">
      Email es requerido
    </div>
    <div *ngIf="showEmailError && myForm.controls['email'].errors?.['email'] && (myForm.controls['email'].dirty || myForm.controls['email'].touched) && !myForm.controls['email'].errors?.['required']" class="text-danger">
      Debe ser un email válido
    </div>
  </div>

  <div class="mb-3">
    <label for="password" class="form-label">Contraseña:</label>
    <input type="password" id="password" formControlName="password" class="form-control" required minlength="8">
    <div *ngIf="showPasswordError" class="text-danger">
      Contraseña es requerida
    </div>
    <div *ngIf="myForm.controls['password'].errors?.['minlength'] && (myForm.controls['password'].dirty || myForm.controls['password'].touched)" class="text-danger">
      La contraseña debe tener al menos 8 caracteres
    </div>
  </div>

  <div class="mb-3">
    <label for="phone" class="form-label">Teléfono:</label>
    <input type='text' id="phone" mask='(000) 0000-0000' formControlName='phone' class="form-control" required>
    <div *ngIf="showPhoneError && myForm.controls['phone'].errors?.['required'] && (myForm.controls['phone'].dirty || myForm.controls['phone'].touched)" class="text-danger">
      Teléfono es requerido
    </div>
    <div *ngIf="showPhoneError && myForm.controls['phone'].errors?.['onlyNumbers'] && (myForm.controls['phone'].dirty || myForm.controls['phone'].touched) && !myForm.controls['phone'].errors?.['required']" class="text-danger">
      El teléfono debe tener un formato válido
    </div>
  </div>

  <div class="mb-3">
    <label for="dateOfBirth" class="form-label">Fecha de nacimiento:</label>
    <input type="date" id="dateOfBirth" formControlName='dateOfBirth' class="form-control">
    <div *ngIf="showDateOfBirthError && myForm.controls['dateOfBirth'].errors?.['required'] && (myForm.controls['dateOfBirth'].dirty || myForm.controls['dateOfBirth'].touched)" class="text-danger">
      Fecha de nacimiento es requerida
    </div>
    <div *ngIf="showDateOfBirthError && myForm.controls['dateOfBirth'].errors?.['underage'] && (myForm.controls['dateOfBirth'].dirty || myForm.controls['dateOfBirth'].touched)" class="text-danger">
      Debes ser mayor de 18 años para registrarte
    </div>
  </div>
  
  
  <button type="submit" class="btn btn-primary">Registrarse</button>
</form>


  
  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Datos del Formulario</h5>
          <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">x</span>
          </button>
        </div>
        <div class="modal-body">
          <!-- Aquí se muestran los datos del formulario -->
          <p>Nombre completo: {{myForm.value.name}}</p>
          <p>Email: {{myForm.value.email}}</p>
          <p>Contraseña: ****</p>
          <p>Teléfono: {{myForm.value.phone}}</p>
          <p>Fecha de nacimiento: {{myForm.value.dateOfBirth}}</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>

        </div>
      </div>
    </div>
  </div>